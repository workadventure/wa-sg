import"./modulepreload-polyfill-3cfb730f.js";import{b as u}from"./init-5da4ed0e.js";console.info('"Administration" script started successfully');WA.onInit().then(()=>{console.log("DEBUG: onInit"),window.addEventListener("DOMContentLoaded",async()=>{console.log("DEBUG: DOMContentLoaded");const e=new URL(window.location.toString()).searchParams.get("area");let t=document.getElementById("input-en"),n=document.getElementById("input-fr"),r=document.getElementById("check-en"),s=document.getElementById("check-fr"),i=document.getElementById("btn");u().then(async()=>{console.log("DEBUG: bootstrapExtra");let a=await WA.state.loadVariable(`${e}-EN-config`),c=await WA.state.loadVariable(`${e}-FR-config`);console.log("DEBUG: urlEN",a),console.log("DEBUG: urlFR",c),t&&n&&e&&(console.log("DEBUG: bootstrapExtra"),t.value=a,n.value=c,console.log("DEBUG: inputEN.value",t.value),console.log("DEBUG: inputFR.value",n.value),i.addEventListener("click",o=>{console.log("DEBUG: click event"),o.preventDefault(),g()}));async function g(){console.log("DEBUG: saving variables...");try{await WA.state.saveVariable(`${e}-EN-config`,t.value).catch(o=>console.error("Something went wrong while saving variable",o)),await WA.state.saveVariable(`${e}-FR-config`,n.value).catch(o=>console.error("Something went wrong while saving variable",o)),console.log("DEBUG: variables saved")}catch(o){console.error("Error saving variables:",o)}finally{console.log("DEBUG: input feedback"),r.innerHTML=t.value===WA.state.loadVariable(`${e}-EN-config`)?"&check;":"&cross;",s.innerHTML=n.value===WA.state.loadVariable(`${e}-FR-config`)?"&check;":"&cross;"}}}).catch(a=>console.error(a))})}).catch(l=>console.error(l));
